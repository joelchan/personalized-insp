<template name="CrowdBrainstorm">
  <div id="prompt-{{_id}}" class="menu-box prompt-panel">
    <div class="row">
      <div class="col-sm-8 prompt-data">
        <div class="center-block">
          <strong>Title:  </strong>
          {{ title }}<br/>
          <strong>Prompt: </strong> {{ question }}<br/>
          {{#if hasTime}}
            <strong>Session Length: {{ length }} minutes</strong><br/>
          {{/if}}
          <strong>Number of Workers: </strong> {{ numWorkers }}<br/>
          <!--<strong>URL: </strong> {{urlFor route='HcompDashboard' data=_id}} <h3>id: {{_id}}</h3> -->
          {{#with promptID}}
            <strong>Crowd Ideator URL: </strong> 
            <a href="{{formUrl}}{{pathFor route="MturkLoginPage"}}">
              {{formUrl}}{{pathFor "MturkLoginPage"}}
            </a><br/>
            <strong>Crowd Clustering URL: </strong> 
            <a href="{{formUrl}}{{pathFor route="MturkSynthLoginPage"}}">
              {{formUrl}}{{pathFor "MturkSynthLoginPage"}}
            </a>
          {{/with}}
          <a href="">
            <div class="col-sm-2 create-exp-button clickable">
                <h3 class="center-vertical">Create Experiment</h3>
            </div>
          </a>
        </div>
      </div>
      <a href="{{formUrl}}{{pathFor route="HcompDashboard" data=getData}}">
        <div class="col-sm-2 dash-button clickable">
          <h3 class="center-vertical">View Brainstorm Progress</h3>
        </div>
      </a>
      <a href="{{formUrl}}{{pathFor route="Visualization" data=getData}}">
        <div class="col-sm-2 review-button clickable">
            <h3 class="center-vertical">Review Ideas</h3>
        </div>
      </a>
    </div>
  </div>
</template>

<template name="CrowdExperiment">
  <div id="exp-{{_id}}" class="menu-box prompt-panel">
    <div class="row">
      <div class="col-sm-8 prompt-data">
        <div class="center-block">
          <strong>Description:  </strong>
          {{ desc }}<br/>
          <strong>Prompt: </strong> {{ question }}<br/>
          <strong>Participant login URL: </strong> 
            <a href="{{ expURL }}">
              {{ expURL }}
            </a><br/>
          <strong>Conditions: </strong><br/>
          {{#each conditions}}
            {{> CrowdExperimentCondition }}
          {{/each}}
          <!--<strong>URL: </strong> {{urlFor route='HcompDashboard' data=_id}} <h3>id: {{_id}}</h3> -->
        </div>
      </div>
    </div>
  </div>
</template>

<template name="CrowdExperimentCondition">
  <em>{{ desc }}:</em> {{ numAssigned }} assigned participants, {{ numCompleted }} completed.<br/>
</template>

<template name="CrowdPromptPage">
  <!-- Nav tabs -->
  <ul class="nav nav-tabs hcomp-prompts-page" role="tablist">
    <li role="presentation" class="active"><a href="#promptList" aria-controls="promptList" role="tab" data-toggle="tab">Prompts</a></li>
    <li role="presentation"><a href="#expList" aria-controls="expList" role="tab" data-toggle="tab">Experiments</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="promptList">
      <div class="row hcomp-prompts-page">
        <center>  
          <button id="new-bs" class="new-bs btn btn-xlarge2 btn-default btn-primary" data-toggle="modal" data-target="#newPromptModal">
            New Brainstorm
          </button> 
        </center>
      </div> <!-- End Row -->

      <!-- Modal -->
      <div class="modal fade" id="newPromptModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content"> 
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="newPromptLabel">Create New Brainstorming Prompt</h4>
            </div>
            <div class="modal-body">
              <h5>Brainstorming prompt:</h5>
              <input type="text" id="prompt-text" class="modal-box" placeholder="New Question">
              <h5>Brainstorming title:</h5>
              <input type="text" id="prompt-title" class="modal-box" placeholder="Shortened Brainstorm title">
              <h4>Brainstorm Length(minutes):</h4>
              <input type="number" id="prompt-length" class="modal-number-input" placeholder="minutes">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button id="createPrompt" type="button" class="createPrompt btn btn-primary" data-toggle="modal" data-dismiss="modal">Save</button>
            </div> <!-- End modal footer -->
          </div> <!-- End modal content -->
        </div> <!-- End modal dialog -->
      </div> <!-- End modal -->
      
      <div class="row hcomp-prompt-list"> 
        {{#each prompts}}
          {{> CrowdBrainstorm }}
        {{/each}}
      </div>
    </div>
    <div role="tabpanel" class="tab-pane" id="expList">
      <div class="row hcomp-prompt-list"> 
        {{#each experiments}}
          {{> CrowdExperiment }}
        {{/each}}
      </div>
    </div>
  </div>

  
</template>
