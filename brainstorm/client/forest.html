<template name="Forest">
	<h1 class="page-header" id="clusterprompt">Alternate uses for a whatchamacallit</h1>
	<div class="container-fluid">
		<div class="row">
			<div id="ideas">
			<div class="col-md-3">
				<div id="createnode"><h3>Start New Cluster</h3>
					<ul class="newstack">
						<li class="new">Drag idea here to create a new cluster</li>
					</ul>
				</div>
				<h3>Idea List</h3>
				<ul id="idealist" class="deck">
					<li class="sort-disabled"></li>
					{{#each ideas}}
						{{#if isClustered}}
						<li id={{_id}} class="instance">{{content}}</li>
						{{/if}}
					{{/each}}
				</ul>
			</div>
			<div id="buildcluster" class="col-md-3">
				<h3>Add to Cluster</h3>
				<ul id={{ideaNode}} class="stack">
					<label class="sort-disabled">Cluster Name:
						<span class="unnamed sort-disabled">{{ideaNodeName}}</span>
					</label>
					<input type="text" class="clustername sort-disabled form-control" 
							id="newcluster" placeholder="Name this cluster">
					{{#each ideaNodeIdeas}}
						<li id={{_id}} class="idea-item">{{content}}</li>
					{{/each}}
				</ul>
				<button id='finish' class='btn btn-large btn-primary'>Finished</button>
			</div>
		</div>
			<div id="nodestatus" class="col-md-6">
				<h3>Working Nodes</h3>
				<h4>Node to be Inserted</h4>
				<ul id={{ideaNode}} class="ideanode donestack">
					<span class="glyphicon glyphicon-collapse-down sort-disabled"></span>
					<label class="sort-disabled">
						<span class="named sort-disabled">{{ideaNodeName}}</span>
					</label>
					{{#each ideaNodeIdeas}}
						<li id={{_id}} class="idea-item">{{content}}</li>
					{{/each}}
				</ul>
				<h4>Best Match Node</h4>
				<ul id={{bestMatchNode}} class="bestmatch donestack">
					<span class="glyphicon glyphicon-collapse-down sort-disabled"></span>
					<label class="sort-disabled">
						<span class="named sort-disabled">{{bestMatchName}}</span>
					</label>
					{{#each bestMatchIdeas}}
						<li id={{_id}} class="idea-item">{{content}}</li>
					{{/each}}
				</ul>
			</div>
			<div id="tree" class="col-md-6">
				<h3>{{userPrompt}}</h3>
				{{#each bestMatchChildren}}
					<ul class="donestack child" id={{this}}>
						<span class="glyphicon glyphicon-collapse-down sort-disabled"></span>
						<label class="sort-disabled">{{myName}}</label>
						{{#each clusterIdeas}}
							<li id={{_id}} class="idea-item">{{content}}</li>
						{{/each}}
						</ul>
				{{/each}}
				{{#if isBestMatch}}
					<button id="nomatch" class='btn btn-large btn-primary'>No Good Matches</button>
				{{/if}}
			</div>
			<div id="generalize" class="col-md-6">
				<h3>{{userPrompt}}</h3>
				<button id="both" class='btn btn-large btn-primary'>Merge</button>
				<p>If both nodes generalize each other, click 'Merge'. This creates one node out of the two, with a name</p>
				<a href="#" id="neither" class='btn btn-large btn-primary'
					data-toggle="modal" data-target="#basicModal">Create Artificial Node</a>
				<p>If the nodes are related, but neither generalizes the other, click 'Create Artificial Node'. This will become the parent of both nodes, and you will be asked to provide a name that captures the missing semantic content</p>
				<button id="ideanode" class='btn btn-large btn-primary'>Idea node is parent</button>
				<p>If the idea node is more general than the best match node, click 'Idea Node is Parent'. This sets the idea node as the parent of the best match node.</p>
				<button id="bestnode" class='btn btn-large btn-primary'>Best Match Node is Parent</button>
				<p>If the idea node is more general than the best match node, click 'Best Match Node is Parent'. This sets the the best match node as the parent of the idea node.</p>
				<div class="modal fade" id="basicModal" 
					tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    				<div class="modal-dialog">
       					<div class="modal-content">
           					<div class="modal-header">
           						<h4 class="modal-title" id="myModalLabel">Name Artificial Node</h4>
           					</div>
           					<div class="modal-body">
              					<div class="input-group">
              						<span class="input-group-addon">Name of Articial Node</span>
              						<input type="text" class="form-control" id="artificial-name">
              					</div>
              					<h4>Be sure to try and capture the semantic content of both clusters with your new name. There is no maximum length.</h4>
              				</div>
           					<div class="modal-footer">
               					<button type="button" class="btn btn-default" 
               						data-dismiss="modal">Close</button>
             			 		<button type="button" class="btn btn-primary" id="save-name">Save changes</button>
       						</div>
    					</div>
  					</div>
				</div>
			</div>
		</div>
	</div>
</template>